import{d as e,u as t,r as a,o as l,c as n,a as o,w as s,b as r,F as u,e as i,f as c,g as d,p as m,h as p,t as g,i as v,j as h,C as f,k as y,l as b,m as w,n as _,q as C,s as k,v as x,I as U}from"./vendor.f12b370e.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,o)=>{const s=new URL(e,l);if(self[t].moduleMap[s])return a(self[t].moduleMap[s]);const r=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),u=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){o(new Error(`Failed to import: ${e}`)),n(u)},onload(){a(self[t].moduleMap[s]),n(u)}});document.head.appendChild(u)})),self[t].moduleMap={}}}("/assets/");const V=i(" Home "),P=i(" Admin "),j=i(" Cart ");var L=e({expose:[],setup(e){const i=t();return(e,t)=>{const c=a("el-menu-item"),d=a("el-avatar"),m=a("el-menu"),p=a("router-view");return l(),n(u,null,[o("nav",null,[o(m,{"default-active":"/",mode:"horizontal",router:""},{default:s((()=>[o(c,{index:"/"},{default:s((()=>[V])),_:1}),o(c,{index:"/admin"},{default:s((()=>[P])),_:1}),o(c,{index:"/cart"},{default:s((()=>[j])),_:1}),r(i).state.loginState?(l(),n(c,{key:0,index:"/user",id:"user"},{default:s((()=>[o(d,{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"})])),_:1})):(l(),n(c,{key:1,index:"/login",id:"user"},{default:s((()=>[o(d,{class:"el-icon-user"})])),_:1}))])),_:1})]),o(p,{id:"r"})],64)}}});const S=d();m("data-v-053bc34e");const $={class:"title"},T=o("h1",null,"All Your Electronics",-1);p();var q=e({expose:[],setup(e){const t=[{name:"Phone",img:"Phone.jpg"},{name:"Computer",img:"Computer.jpg"},{name:"TV",img:"TV.jpg"},{name:"Camera",img:"Camera.jpg"},{name:"Pad",img:"Pad.jpg"},{name:"Headphone",img:"Headphone.jpg"}];return(e,s)=>{const r=a("router-link"),i=a("el-card"),d=a("el-col"),m=a("el-row");return l(),n("div",null,[o("div",$,[T,o(m,null,{default:S((()=>[(l(),n(u,null,c(t,(e=>o(d,{span:8},{default:S((()=>[o(i,{"body-style":{padding:"0px"}},{default:S((()=>[o(r,{to:"/category/"+e.name},{default:S((()=>[o("img",{src:"http://localhost:3000/assets/"+e.img,class:"image"},null,8,["src"])])),_:2},1032,["to"]),o("h2",null,g(e.name),1)])),_:2},1024)])),_:2},1024))),64))])),_:1})])])}}});q.__scopeId="data-v-053bc34e";const O={class:"title"},A=o("h1",null,"Shopping Cart",-1),I=i("+ 1 "),R=i("- 1 "),E=i("Delete "),F=i("Check Out");var M=e({expose:[],setup(e){const u=t(),i=v(),c=()=>{if(!1===u.state.loginState||""===u.state.username)return h({duration:1200,type:"error",message:"You need to login first! Going to login page..."}),void setTimeout((()=>{i.push("./login")}),1200);let e={username:u.state.username,price:u.getters.total,item:u.state.cart.map((e=>e.name)).join()};f.post("http://localhost:3000/api/checkout",e).then((()=>{u.commit("clearCart"),h({duration:2e3,type:"success",message:"Check out success!"})}))};return(e,t)=>{const i=a("el-table-column"),d=a("el-button"),m=a("el-table");return l(),n("div",null,[o("div",O,[A,o(m,{data:r(u).state.cart,"empty-text":"Your cart is empty"},{default:s((()=>[o(i,{sortable:"",prop:"name",label:"Product"}),o(i,{sortable:"",prop:"price",label:"Price($)"}),o(i,{sortable:"",prop:"quantity",label:"Quantity"}),o(i,{label:"Operation"},{default:s((e=>[o(d,{plain:"",size:"small",type:"success",onClick:t=>{return a=e.row,void u.commit("addOne",a);var a}},{default:s((()=>[I])),_:2},1032,["onClick"]),o(d,{plain:"",size:"small",type:"warning",onClick:t=>{return a=e.row,void u.commit("removeOne",a);var a}},{default:s((()=>[R])),_:2},1032,["onClick"]),o(d,{plain:"",size:"small",type:"danger",onClick:t=>{return a=e.row,void u.commit("removeFromCart",a);var a}},{default:s((()=>[E])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),o("h2",null,"Total: $"+g(r(u).getters.total),1),o(d,{plain:"",type:"primary",onClick:c},{default:s((()=>[F])),_:1})])])}}});const z={class:"title"},H=i("Add to Cart");var B=e({expose:[],setup(e){const i=t(),d=b().params.name,m=y([]);f.get(`http://localhost:3000/api/catelog/${d}`).then((e=>{e.data.map((e=>{m.push(e)}))}));return(e,t)=>{const d=a("el-divider"),p=a("el-button");return l(),n("div",null,[o("div",z,[o("h1",null,g(e.$route.params.name),1),o(d),(l(!0),n(u,null,c(r(m),(e=>(l(),n("div",null,[o("h2",null,g(e.name),1),o("h3",null,"Price: $"+g(e.price),1),o(p,{onClick:t=>(e=>{i.commit("addToCart",e),h({duration:1200,type:"success",message:`${e.name} has been added to the cart`})})(e)},{default:s((()=>[H])),_:2},1032,["onClick"]),o(d)])))),256))])])}}});const D={class:"admin-new"},G={class:"container"},N={class:"col-lg-3 col-md-3 col-sm-12 col-xs-12"},Y={class:"admin-menu"},Q=i("View Products"),J=i("New Products");var K=e({expose:[],setup:e=>(w("Admin"),(e,t)=>{const r=a("router-link"),u=a("router-view");return l(),n("div",null,[o("div",D,[o("div",G,[o("div",N,[o("ul",Y,[o("li",null,[o(r,{to:"/admin"},{default:s((()=>[Q])),_:1})]),o("li",null,[o(r,{to:"/admin/new"},{default:s((()=>[J])),_:1})])])]),o(u)])])])})});const W={},X=o("div",{class:"title"},[o("h1",null,"This is Admin/New")],-1);W.render=function(e,t){return l(),n("div",null,[X])};const Z={},ee={class:"title"};Z.render=function(e,t){return l(),n("div",null,[o("div",ee,[o("h1",null,"This is Admin/Edit/"+g(e.$route.params.id),1)])])};const te=d();m("data-v-f84efd48");const ae=o("h2",null,"Log In",-1),le=o("br",null,null,-1),ne=o("br",null,null,-1),oe=o("br",null,null,-1),se=o("br",null,null,-1),re=i(" Log In "),ue=o("br",null,null,-1),ie=o("br",null,null,-1),ce=i(" or Sign Up ");p();var de=e({expose:[],setup(e){const s=v(),r=t(),u=w(""),i=w(""),c=w(!1),d=()=>{f.post("http://localhost:3000/api/login",{username:u.value,password:i.value}).then((e=>{console.log(e.data),c.value=!e.data,c.value?h({duration:1200,type:"error",message:"Username or password is invalid!"}):(r.commit("login",u.value),h({duration:1200,type:"success",message:"Login success! Going to the home page..."}),setTimeout((()=>{s.push("./")}),1200))}))};return(e,t)=>{const s=a("el-input"),r=a("el-button"),c=a("router-link");return l(),n("div",null,[ae,o(s,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),placeholder:"Username"},null,8,["modelValue"]),le,ne,o(s,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),placeholder:"Password","show-password":""},null,8,["modelValue"]),oe,se,o(r,{type:"primary",onClick:d},{default:te((()=>[re])),_:1}),ue,ie,o(c,{to:"/signup"},{default:te((()=>[o(r,{plain:"",type:"success"},{default:te((()=>[ce])),_:1})])),_:1})])}}});de.__scopeId="data-v-f84efd48";const me=d();m("data-v-0b124b8f");const pe=o("h2",null,"Sign Up",-1),ge=o("br",null,null,-1),ve=o("br",null,null,-1),he=o("br",null,null,-1),fe=o("br",null,null,-1),ye=o("br",null,null,-1),be=o("br",null,null,-1),we=i("Sign Up "),_e=o("br",null,null,-1),Ce=o("br",null,null,-1),ke=i(" or Back to Log In ");p();var xe=e({expose:[],setup(e){const t=v(),s=w(""),r=w(""),u=w("");w(!1);const i=()=>{""!==s.value&&""!==r.value&&""!==u.value?r.value===u.value?f.post("http://localhost:3000/api/signup",{username:s.value,password:r.value}).then((()=>{h({duration:1200,type:"success",message:"Sign up success! Going back to login page..."}),setTimeout((()=>{t.push("./login")}),1200)})):h({duration:1200,type:"error",message:"Password does not match!"}):h({duration:1200,type:"error",message:"Username or password is empty!"})};return(e,t)=>{const c=a("el-input"),d=a("el-button"),m=a("router-link");return l(),n("div",null,[pe,o(c,{type:"text",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),placeholder:"Username",clearable:""},null,8,["modelValue"]),ge,ve,o(c,{type:"text",modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value=e),placeholder:"Password","show-password":""},null,8,["modelValue"]),he,fe,o(c,{type:"text",modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=e=>u.value=e),placeholder:"Confirm your password","show-password":""},null,8,["modelValue"]),ye,be,o(d,{type:"success",onClick:i},{default:me((()=>[we])),_:1}),_e,Ce,o(m,{to:"/login"},{default:me((()=>[o(d,{plain:"",type:"primary"},{default:me((()=>[ke])),_:1})])),_:1})])}}});xe.__scopeId="data-v-0b124b8f";const Ue={class:"title"};const Ve=[{path:"/",name:"Home",component:q},{path:"/login",name:"Login",component:de},{path:"/signup",name:"SignUp",component:xe},{path:"/cart",name:"Cart",component:M},{path:"/category/:name",name:"Category",component:B},{path:"/admin",name:"Admin",component:K,children:[{path:"new",name:"New",component:W},{path:"product",name:"Product",component:{}},{path:"edit/:id",name:"Edit",component:Z}]},{path:"/detail",name:"Detail",component:e({expose:[],setup(e){const t=w("Detail");return(e,a)=>(l(),n("div",null,[o("div",Ue,[o("h1",null,g(t.value),1)])]))}})}],Pe=_({history:C(),routes:Ve,scrollBehavior:()=>({top:0})}),je={loginState:!1,cart:Array(),username:""};var Le=k({state:()=>je,mutations:{login(e,t){e.loginState=!0,e.username=t},logout(e){e.loginState=!1,e.username=""},addToCart(e,t){let a=!1;for(const l of e.cart)l.name!==t.name||a||(l.price+=t.price,l.quantity++,a=!0);a||e.cart.push({name:t.name,price:t.price,quantity:1})},clearCart(e){e.cart=[]},removeFromCart(e,t){e.cart=e.cart.filter((e=>e.name!==t.name))},addOne(e,t){for(const a of e.cart)if(t.name===a.name){const e=t.price/t.quantity;a.price+=e,a.quantity++}},removeOne(e,t){for(const a of e.cart)if(t.name===a.name)if(1===a.quantity)e.cart=e.cart.filter((e=>e.name!==t.name));else{const e=t.price/t.quantity;a.price-=e,a.quantity--}}},actions:{login(e){e.commit("login")},logout(e){e.commit("logout")}},getters:{total(e){let t=0;for(const a of e.cart)t+=a.price;return t}}});x(L).use(Pe).use(Le).use(U).mount("#app");
